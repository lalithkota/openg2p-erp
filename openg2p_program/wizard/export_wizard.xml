<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <act_window id="ben_export_wizard_action"
        name="Export to CSV/XLS"
        src_model="openg2p.beneficiary"
        res_model="general.export.wizard"
        view_type="form" view_mode="form"
        key2="client_action_multi" target="new"
        groups="openg2p.group_openg2p_officer,openg2p_program.group_openg2p_program_enrollment_manager"
        context="{'redirect_report_id':'openg2p_program.ben_export_selected'}"/>
    
    <act_window id="prog_enroll_export_wizard_action"
        name="Export to CSV/XLS"
        src_model="openg2p.program.enrollment"
        res_model="general.export.wizard"
        view_type="form" view_mode="form"
        key2="client_action_multi" target="new"
        groups="openg2p.group_openg2p_officer,openg2p_program.group_openg2p_program_enrollment_manager"
        context="{'redirect_report_id':'openg2p_program.program_enrol_export_selected'}"/>

    <record id="general_export_wizard_view" model="ir.ui.view">
        <field name="name">Export to CSV/XLS</field>
        <field name="model">general.export.wizard</field>
        <field name="arch" type="xml">
            <form string="Export to CSV/XLS">
                <!-- Various warnings -->
                <div colspan="2" class="oe_form_box_info bg-info oe_text_center">
                    <p attrs="{'invisible': [('use_active_domain', '=', False)]}">
                        <strong>
                            All records matching your current search filter will be exported, not only the
                            selected records.
                        </strong>
                    </p>
                    <p attrs="{'invisible': [('use_active_domain', '=', True)]}">
                        <strong>Only records checked in list view will be exported.</strong><br/>
                    </p>
                    <p class="mt8">
                        <span attrs="{'invisible': [('use_active_domain', '=', True)]}">
                            If you want to export all records matching your search criterion, check this box :
                        </span>
                        <span attrs="{'invisible': [('use_active_domain', '=', False)]}">
                            If you want to export only selected records please uncheck this selection box :
                        </span>
                        <field class="oe_inline" name="use_active_domain"/>
                    </p>
                </div>
                <footer>
                    <button string="Export to CSV" name="action_export_csv" type="object" class="btn-primary"/>
                    <button string="Export to XLS" name="action_export_xls" type="object" class="btn-primary"/>
                    <button string="Close" class="btn-secondary" special="cancel"/>
                </footer>
            </form>
        </field>
    </record>
</odoo>
